<script>
    function calculate() {
        const bah = parseFloat(document.getElementById('bah').value);
        const bal = parseFloat(document.getElementById('bal').value);
        const baw = parseFloat(document.getElementById('baw').value);
        const board = parseFloat(document.getElementById('board').value);

        const ctx = document.getElementById('diagram').getContext('2d');
        ctx.clearRect(0, 0, 800, 800);
        ctx.font = "14px Arial";
        ctx.fillStyle = "black";
        ctx.strokeStyle = "black";

        function drawRect(x, y, width, height, label) {
            ctx.strokeRect(x, y, width, height);
            ctx.fillText(`${label}: ${width} x ${height} mm`, x + 5, y + 15);
        }

        let xStart = 50, yStart = 50;

        // Bottom Tray (Top Section)
        drawRect(xStart, yStart, baw, bah + board, "BT2"); // Short side
        drawRect(xStart, yStart + (bah + board + 20), bal, baw, "BT1"); // Flat base (rotated)
        drawRect(xStart + (baw + 20), yStart + (bah + board + 20), bal, bah + board, "BT3"); // Long side (rotated)

        // Top Tray (Below Bottom Tray)
        let yOffset = yStart + (bal + bah + board + 60);
        drawRect(xStart, yOffset, baw, bah + board, "TT2"); // Short side
        drawRect(xStart, yOffset + (bah + board + 20), bal, baw, "TT1"); // Flat base (rotated)
        drawRect(xStart + (baw + 20), yOffset + (bah + board + 20), bal, bah + board, "TT3"); // Long side (rotated)

        // Cover & Spine (Right Side)
        let coverX = xStart + (baw + 100), coverY = yStart;
        drawRect(coverX, coverY, bal + 2 * board, baw + 2 * board, "C"); // Cover (rotated)

        let spineX = coverX + (bal + 50), spineY = coverY;
        drawRect(spineX, spineY, bal + 2 * board, bah + 2 * board, "CS"); // Spine (rotated & fixed)
    }
</script>
